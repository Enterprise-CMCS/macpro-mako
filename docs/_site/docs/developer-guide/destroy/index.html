<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="stylesheet" href="/assets/css/just-the-docs-default.css"><link rel="stylesheet" href="/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"><style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li > a, .site-nav > ul.nav-list:first-child > li > ul > li:not(:nth-child(5)) > a, .site-nav > ul.nav-list:first-child > li > ul > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(8) > ul > li:nth-child(5) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(8) > button svg, .site-nav > ul.nav-list:first-child > li:nth-child(8) > ul > li:nth-child(5) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(8) > ul.nav-list, .site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(8) > ul.nav-list > li.nav-list-item:nth-child(5) > ul.nav-list { display: block; }</style><script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico" type="image/x-icon"><title>Destroy a Stage | MAKO</title><meta name="generator" content="Jekyll v4.3.4" /><meta property="og:title" content="Destroy a Stage" /><meta property="og:locale" content="en_US" /><meta name="description" content="A new project by the CMS MACPRO platform team." /><meta property="og:description" content="A new project by the CMS MACPRO platform team." /><link rel="canonical" href="http://0.0.0.0:4000/docs/developer-guide/destroy/" /><meta property="og:url" content="http://0.0.0.0:4000/docs/developer-guide/destroy/" /><meta property="og:site_name" content="MAKO" /><meta property="og:type" content="website" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Destroy a Stage" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"A new project by the CMS MACPRO platform team.","headline":"Destroy a Stage","url":"http://0.0.0.0:4000/docs/developer-guide/destroy/"}</script><body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><title id="svg-external-link-title">(external link)</title><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-copy" viewBox="0 0 16 16"><title>Copy</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"><title>Copied</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"><path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg><div class="side-bar"><div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> MAKO </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button></div><nav aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a><li class="nav-list-item"><a href="/docs/overview/" class="nav-list-link">Overview</a><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Design category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/design" class="nav-list-link">Design</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/design/authentication_and_authorization/" class="nav-list-link">Auth</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Onboarding category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/onboarding" class="nav-list-link">Onboarding</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/onboarding/team/" class="nav-list-link">Team Introduction</a><li class="nav-list-item"><a href="/docs/onboarding/access-requests/" class="nav-list-link">Access Requests</a><li class="nav-list-item"><a href="/docs/onboarding/communication/" class="nav-list-link">Communication</a><li class="nav-list-item"><a href="/docs/onboarding/workspace-setup/" class="nav-list-link">Workspace Setup</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Services category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/services" class="nav-list-link">Services</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/services/alerts/" class="nav-list-link">alerts</a><li class="nav-list-item"><a href="/docs/services/api/" class="nav-list-link">api</a><li class="nav-list-item"><a href="/docs/services/auth/" class="nav-list-link">auth</a><li class="nav-list-item"><a href="/docs/services/dashboard/" class="nav-list-link">dashboard</a><li class="nav-list-item"><a href="/docs/services/data/" class="nav-list-link">data</a><li class="nav-list-item"><a href="/docs/services/email/" class="nav-list-link">email</a><li class="nav-list-item"><a href="/docs/services/ui/" class="nav-list-link">ui</a><li class="nav-list-item"><a href="/docs/services/ui-infra/" class="nav-list-link">ui-infra</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Team Norms category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/team-norms" class="nav-list-link">Team Norms</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/team-norms/pull-requests/" class="nav-list-link">Pull Requests</a><li class="nav-list-item"><a href="/docs/team-norms/code-style/" class="nav-list-link">Code Style Cheatsheet</a><li class="nav-list-item"><a href="/docs/team-norms/jira-workflow/" class="nav-list-link">JIRA Workflow</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in GitHub Workflows category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/workflows" class="nav-list-link">GitHub Workflows</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/workflows/security-hub-jira-sync/" class="nav-list-link">Security Hub Jira Sync</a><li class="nav-list-item"><a href="/docs/workflows/auto-create-jira-comment/" class="nav-list-link">Jira Issue Commenter</a><li class="nav-list-item"><a href="/docs/workflows/deploy/" class="nav-list-link">Deploy</a></ul><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Developer Guide category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/developer-guide" class="nav-list-link">Developer Guide</a><ul class="nav-list"><li class="nav-list-item"><a href="/docs/developer-guide/aws-auth/" class="nav-list-link">AWS Login</a><li class="nav-list-item"><a href="/docs/developer-guide/launch-darkly/" class="nav-list-link">Launch Darkly</a><li class="nav-list-item"><a href="/docs/developer-guide/update-diagram/" class="nav-list-link">Updating Diagram</a><li class="nav-list-item"><a href="/docs/developer-guide/deploy/" class="nav-list-link">Deploy a Stage</a><li class="nav-list-item"><a href="/docs/developer-guide/destroy/" class="nav-list-link">Destroy a Stage</a><li class="nav-list-item"><a href="/docs/developer-guide/docs/" class="nav-list-link">Run Docs Site Locally</a><li class="nav-list-item"><a href="/docs/developer-guide/subscribe-to-alerts/" class="nav-list-link">Subscribing to Alerts</a><li class="nav-list-item"><a href="/docs/developer-guide/pre-commit/" class="nav-list-link">Pre-Commit Usage</a><li class="nav-list-item"><a href="/docs/developer-guide/base-update/" class="nav-list-link">Update from Base</a><li class="nav-list-item"><a href="/docs/developer-guide/list-running-stages/" class="nav-list-link">List Running Stages</a><li class="nav-list-item"><a href="/docs/developer-guide/run-commands/" class="nav-list-link">Run Commands</a><li class="nav-list-item"><a href="/docs/developer-guide/unit-testing/" class="nav-list-link">Unit Testing</a></ul><li class="nav-list-item"><a href="/docs/developer-metrics/" class="nav-list-link">Dev (DORA) Metrics</a><li class="nav-list-item"><a href="/docs/webforms/" class="nav-list-link">Webforms</a></ul><ul class="nav-list"><li class="nav-list-item external"> <a href="https://github.com/Enterprise-CMCS/macpro-mako" class="nav-list-link external" > GitHub <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a><li class="nav-list-item external"> <a href="https://qmacbis.atlassian.net/jira/software/c/projects/OY2/boards/257" class="nav-list-link external" > Jira <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a><li class="nav-list-item external"> <a href="https://cmsgov.slack.com/archives/C05ECGY0F5F" class="nav-list-link external" > Slack <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a></ul></nav><footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search" role="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search MAKO" aria-label="Search MAKO" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="https://github.com/Enterprise-CMCS/macpro-mako" class="site-button" > GitHub </a><li class="aux-nav-list-item"> <a href="https://qmacbis.atlassian.net/jira/software/c/projects/OY2/boards/257" class="site-button" > Jira </a><li class="aux-nav-list-item"> <a href="https://cmsgov.slack.com/archives/C05ECGY0F5F" class="site-button" > Slack </a></ul></nav></div><div class="main-content-wrap"><nav aria-label="Breadcrumb" class="breadcrumb-nav"><ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="/docs/developer-guide">Developer Guide</a><li class="breadcrumb-nav-list-item"><span>Destroy a Stage</span></ol></nav><div id="main-content" class="main-content"><main><h1 class="no_toc" id="destroy-a-stage"> <a href="#destroy-a-stage" class="anchor-heading" aria-labelledby="destroy-a-stage"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Destroy a Stage</h1><p class="fs-6 fw-300">How-to destroy a stage in AWS.</p><h2 class="no_toc text-delta" id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading" aria-labelledby="table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of contents</h2><ul id="markdown-toc"><li><a href="#destroy-using-github-actions---branch-deletion" id="markdown-toc-destroy-using-github-actions---branch-deletion">Destroy using GitHub Actions - branch deletion</a><ul><li><a href="#summary" id="markdown-toc-summary">Summary</a><li><a href="#prerequisites" id="markdown-toc-prerequisites">Prerequisites</a><li><a href="#procedure" id="markdown-toc-procedure">Procedure</a><li><a href="#notes" id="markdown-toc-notes">Notes</a></ul><li><a href="#destroy-using-github-actions---manual-dispatch" id="markdown-toc-destroy-using-github-actions---manual-dispatch">Destroy using GitHub Actions - manual dispatch</a><ul><li><a href="#summary-1" id="markdown-toc-summary-1">Summary</a><li><a href="#prerequisites-1" id="markdown-toc-prerequisites-1">Prerequisites</a><li><a href="#procedure-1" id="markdown-toc-procedure-1">Procedure</a><li><a href="#notes-1" id="markdown-toc-notes-1">Notes</a></ul><li><a href="#destroy-a-stage-1" id="markdown-toc-destroy-a-stage-1">Destroy a stage</a><ul><li><a href="#summary-2" id="markdown-toc-summary-2">Summary</a><li><a href="#prerequisites-2" id="markdown-toc-prerequisites-2">Prerequisites:</a><li><a href="#procedure-2" id="markdown-toc-procedure-2">Procedure</a><li><a href="#notes-2" id="markdown-toc-notes-2">Notes</a></ul><li><a href="#destroy-an-individual-service" id="markdown-toc-destroy-an-individual-service">Destroy an individual service</a><ul><li><a href="#summary-3" id="markdown-toc-summary-3">Summary</a><li><a href="#prerequisites-3" id="markdown-toc-prerequisites-3">Prerequisites:</a><li><a href="#procedure-3" id="markdown-toc-procedure-3">Procedure</a><li><a href="#notes-3" id="markdown-toc-notes-3">Notes</a></ul></ul><hr /><h3 id="destroy-using-github-actions---branch-deletion"> <a href="#destroy-using-github-actions---branch-deletion" class="anchor-heading" aria-labelledby="destroy-using-github-actions---branch-deletion"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Destroy using GitHub Actions - branch deletion</h3><h4 id="summary"> <a href="#summary" class="anchor-heading" aria-labelledby="summary"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Summary</h4><p>GitHub Actions is usually the best way to destroy a stage. A Destroy workflow exists for this project, which will neatly take down any and all infrastructure related to a branch/stage, as well as deactivate the GitHub Environment, if it exists.</p><p>In most cases, stages are deployed from a branch in the git repo. If this is the case, and if the branch can be safely deleted, destroying using GitHub Actions and branch deletion is the preferred approach.</p><h4 id="prerequisites"> <a href="#prerequisites" class="anchor-heading" aria-labelledby="prerequisites"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Prerequisites</h4><ul><li>Git repo write access; complete the Git access request portion of <a href="/docs/onboarding">onboarding</a></ul><h4 id="procedure"> <a href="#procedure" class="anchor-heading" aria-labelledby="procedure"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Procedure</h4><ul><li>Stop and think about what you are doing. Destroying is a lot easier to avoid then to undo.<li>Delete the branch for the stage you wish to delete.<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">cd </span>macpro-mako
  git push <span class="nt">--delete</span> origin foo
</code></pre></div></div><li>Monitor the status of your stage’s destruction in the repo’s <a href="https://github.com/Enterprise-CMCS/macpro-mako/actions">Actions area</a>.</ul><h4 id="notes"> <a href="#notes" class="anchor-heading" aria-labelledby="notes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Notes</h4><ul><li>None</ul><h3 id="destroy-using-github-actions---manual-dispatch"> <a href="#destroy-using-github-actions---manual-dispatch" class="anchor-heading" aria-labelledby="destroy-using-github-actions---manual-dispatch"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Destroy using GitHub Actions - manual dispatch</h3><h4 id="summary-1"> <a href="#summary-1" class="anchor-heading" aria-labelledby="summary-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Summary</h4><p>The same GitHub Actions workflow referenced above can be triggered manually. This is primarily useful if there is AWS infrastructure that still exists for a branch that has been deleted, and you don’t want to go to the trouble of running destroy from your Mac. Or, if you want to do a clean deploy of a stage, but you don’t want to delete the branch, this can also be handy.</p><h4 id="prerequisites-1"> <a href="#prerequisites-1" class="anchor-heading" aria-labelledby="prerequisites-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Prerequisites</h4><ul><li>Git repo write access; complete the Git access request portion of <a href="/docs/onboarding">onboarding</a></ul><h4 id="procedure-1"> <a href="#procedure-1" class="anchor-heading" aria-labelledby="procedure-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Procedure</h4><ul><li>In a browser, go to the <a href="https://github.com/Enterprise-CMCS/macpro-mako">repo</a><li>Click the Actions tab<li>Click Destroy, located on the left hand side of the screen.<li>Click ‘Run workflow’<ul><li>Leave ‘Use workflow from’ set to main.<li>Enter the name of the stage you wish to destroy in the free text field.<li>Click ‘Run workflow’</ul><li>Monitor the status of your stage’s destruction in the repo’s <a href="https://github.com/Enterprise-CMCS/macpro-mako/actions">Actions area</a>.</ul><h4 id="notes-1"> <a href="#notes-1" class="anchor-heading" aria-labelledby="notes-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Notes</h4><ul><li>None</ul><h3 id="destroy-a-stage-1"> <a href="#destroy-a-stage-1" class="anchor-heading" aria-labelledby="destroy-a-stage-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Destroy a stage</h3><h4 id="summary-2"> <a href="#summary-2" class="anchor-heading" aria-labelledby="summary-2"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Summary</h4><p>This destroys an entire application, so the entire stage, to AWS.</p><h4 id="prerequisites-2"> <a href="#prerequisites-2" class="anchor-heading" aria-labelledby="prerequisites-2"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Prerequisites:</h4><ul><li>Completed all <a href="/docs/onboarding">onboarding</a></ul><h4 id="procedure-2"> <a href="#procedure-2" class="anchor-heading" aria-labelledby="procedure-2"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Procedure</h4><ul><li>Stop and think about what you are doing. Destroying is a lot easier to avoid then to undo.<li><a href="/docs/developer-guide/aws-auth/">Obtain and set AWS CLI credentials</a><li>Destroy using the run script:<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">cd </span>macpro-mako
  nvm use
  run destroy <span class="nt">--stage</span> foo
</code></pre></div></div></ul><h4 id="notes-2"> <a href="#notes-2" class="anchor-heading" aria-labelledby="notes-2"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Notes</h4><ul><li>After running the above destroy command, the script will output any Cloudformation stacks that will be deleted, and ask you to verify the stage name to proceed with destruction. If you’d like to proceed, re-enter the stage name and hit enter.<li>The destroy script will hold your terminal process open until all stacks report as DESTROY_COMPLETE in cloudformation. If a stack fails to delete, or if there is a timeout, the script will fail. You may retry the script again, but it may be worth investigating the failure.<li>Please be mindful of what you are doing.</ul><h3 id="destroy-an-individual-service"> <a href="#destroy-an-individual-service" class="anchor-heading" aria-labelledby="destroy-an-individual-service"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Destroy an individual service</h3><h4 id="summary-3"> <a href="#summary-3" class="anchor-heading" aria-labelledby="summary-3"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Summary</h4><p>This will destroy a single service for a given stage.</p><h4 id="prerequisites-3"> <a href="#prerequisites-3" class="anchor-heading" aria-labelledby="prerequisites-3"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Prerequisites:</h4><ul><li>Completed all <a href="/docs/onboarding">onboarding</a></ul><h4 id="procedure-3"> <a href="#procedure-3" class="anchor-heading" aria-labelledby="procedure-3"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Procedure</h4><ul><li>Stop and think about what you are doing. Destroying is a lot easier to avoid then to undo.<li><a href="/docs/developer-guide/aws-auth/">Obtain and set AWS CLI credentials</a><li>Destroy a single service using the run script:<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">cd </span>macpro-mako
  nvm use
  run destroy <span class="nt">--service</span> bar <span class="nt">--stage</span> foo
</code></pre></div></div></ul><h4 id="notes-3"> <a href="#notes-3" class="anchor-heading" aria-labelledby="notes-3"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Notes</h4><ul><li>All notes from the Destroy a Stage section (above) hold true for destroying an individual service.</ul></main><hr><footer><p><a href="#top" id="back-to-top">Back to top</a></p><p class="text-small text-grey-dk-100 mb-0">A work of the MACPRO Platform Team for the Centers for Medicare & Medicaid Services.</p><div class="d-flex mt-2"><p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/Enterprise-CMCS/macpro-mako/tree/main/docs/docs/developer-guide/destroy.md" id="edit-this-page">Edit this page on GitHub</a></p></div></footer></div></div><div class="search-overlay"></div></div>
